Допустим, есть строка `24.05.2022`, которую мы хотим превратить в дату. Для этого понадобится еще _маска_ (layout), которая описывает, где в строке год, месяц и число. Вечная проблема с масками — в каждом языке программирования они свои. Например, в Java использовали бы `dd.MM.yyyy`, а в Python — `%d.%m.%Y`. Второй формат более распространен — Питон позаимствовал его из C, и так поступили многие другие языки.

В Go, к сожалению, придумали свой оригинальный способ. В качестве маски Go использует _контрольное время_ (reference time):

```go
// маска
layout := "02.01.2006"
// значение
value := "24.05.2022"
t, _ := time.Parse(layout, value)
fmt.Println(t)
// 2022-05-24 00:00:00 +0000 UTC
```

Полностью контрольное время выглядит так:

-   2 января 2006 года,
-   время 15:04:05,
-   часовой пояс MST (UTC-7).

Вот несколько примеров, как использовать контрольное время для парсинга. Маска идет первым параметром `time.Parse()`, исходное значение — вторым:

```go
s := "24.05.2022 17:45"
t, _ := time.Parse("02.01.2006 15:04", s)
fmt.Println(t)
// 2022-05-24 17:45:00 +0000 UTC
```

 Если часовой пояс не указан, `Parse()` устанавливает его в UTC.

```go
s := "17:45:22"
t, _ := time.Parse("15:04:05", s)
fmt.Println(t)
// 0000-01-01 17:45:22 +0000 UTC
```

Дата по умолчанию — 01.01.0000.

```go
s := "24.05.2022 17:45:22.951205+03:00"
t, _ := time.Parse("02.01.2006 15:04:05.999999-07:00", s)
fmt.Println(t)
// 2022-05-24 17:45:22.951205 +0300 MSK
```

На мой взгляд, получилось неудобно. Но такой уж подход выбрали авторы языка.

> Возможно, вы задаетесь вопросом, как можно было выбрать настолько дикий формат для маски. В этом формате есть некоторая логика. Но работает она, только если вы житель США. В привычном для американца формате контрольное время выглядит как `01/02 03:04:05PM '06 -0700`. То есть мнемонически его можно запомнить как 1-2-3-4-5-6-7. Для остального мира, естественно, мнемоника не работает. Спасибо за заботу, авторы Go.

Чтобы не мучиться каждый раз с маской, в Go предусмотрели несколько предопределенных форматов. К сожалению, они распространены только в Северной Америке, поэтому для нас по большей части бесполезны. Кроме одного — `time.RFC3339`. Это общепринятый стандарт представления даты и времени, также известный как ISO 8601:

```go
s := "2022-05-24T17:45:22.951205+03:00"
t, _ := time.Parse(time.RFC3339, s)
fmt.Println(t)
// 2022-05-24 17:45:22.951205 +0300 MSK
```

[песочница](https://go.dev/play/p/mzcWYlp5yMh)

### Форматирование

Форматирование — обратная парсингу операция: преобразует время в строку. Использует метод `Format()` и те же самые маски:

```go
t, _ := time.Parse(time.RFC3339, "2022-05-24T17:45:22.951205+03:00")

fmt.Println(t.Format("02.01.2006"))
// 24.05.2022

fmt.Println(t.Format("02.01.2006 15:04"))
// 24.05.2022 17:45

fmt.Println(t.Format("02.01.2006 15:04:05 MST"))
// 24.05.2022 17:45:22 MSK
```

[песочница](https://go.dev/play/p/CuQuJBGOCHb)

[[Дата и время]]