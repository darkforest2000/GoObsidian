Работа с датой и временем почему-то особенно не дается авторам языков программирования. Популярные языки, созданные в прошлом веке, полностью провалили эту часть. Java потребовалось три попытки, чтобы сделать нормальное API. В Python получилась неудобная конструкция с пятью разновидностями дат. В JavaScript интерфейс работы с датами простой, но нефункциональный.

К счастью, в Go все сделали сразу хорошо (ну почти).

На этом уроке:

-   момент времени;
-   часовой пояс;
-   продолжительность и арифметика;
-   парсинг и форматирование;
-   юникс-время;
-   монотонное время.

### Момент времени

В Go за работу с датами отвечает пакет `time`. Тип `time.Time` описывает конкретный _момент времени_ (instant in time) с наносекундной точностью. Чтобы получить текущий момент времени (дальше для краткости вместо «момент времени» буду писать просто «время»), используют функцию `time.Now()`:

```go
t := time.Now()
fmt.Println(t)
// 2022-05-24 17:45:22.951205 +0300 MSK m=+0.000000001
```

Значение `t` включает дату (2022-05-24), время (17:45:22.951205), часовой пояс (+0300 MSK), а также монотонное время (о нем поговорим отдельно).

Для каждого компонента времени предусмотрен отдельный метод:

```go
fmt.Println(t.Year())
// 2022
fmt.Println(int(t.Month()))
// 5
fmt.Println(t.Day())
// 24
fmt.Println(t.Hour())
// 17
fmt.Println(t.Minute())
// 45
fmt.Println(t.Second())
// 22
fmt.Println(t.Nanosecond())
// 951205000
```

Метод `Month()` возвращает значение типа `time.Month`, образованного от `int`:

```go
fmt.Println(time.January == time.Month(1))
// true
fmt.Println(time.December == time.Month(12))
// true
```

Еще несколько полезных методов:

-   порядковый номер дня в году
-   ```go
    fmt.Println(t.YearDay())
    // 144
    ```
    
-   год и порядковый номер недели
-   ```go
    year, week := t.ISOWeek()
    fmt.Println(year, week)
    // 2022 21
    ```
    
-   порядковый номер дня недели (0...6 — воскресенье...суббота)
    
-   ```go
    fmt.Println(int(t.Weekday()))
    // 2
    ```
    
-   часы, минуты, секунды
-   ```go
    hour, min, sec := t.Clock()
    fmt.Println(hour, min, sec)
    // 17 45 22
    ```
    

Конкретное время в прошлом или будущем можно получить через функцию `time.Date()`. Придется перечислить все компоненты от года до наносекунд, а также часовой пояс:

```go
t := time.Date(2022, 5, 24, 17, 45, 22, 951205000, time.Local)
fmt.Println(t)
// 2022-05-24 17:45:22.951205 +0300 MSK
```

[песочница](https://go.dev/play/p/XHscyB-Nm9B)

[[Основы GO]] [[Часовой пояс]] [[Арифметика]] [[Парсинг]]