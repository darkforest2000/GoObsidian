Сборка мусора (Garbage Collection, GC) — это процесс освобождения места в памяти, которое больше не используется. Другими словами, сборщик мусора определяет объекты, находящиеся вне области видимости, на которые нельзя больше ссылаться (недостижимые объекты), и освобождает занимаемую ими память. Этот процесс  
выполняется конкурентно, не до и не после, а во время работы Go-программы.  

Документация реализации сборщика мусора в Go гласит следующее:  

	«GC выполняется конкурентно (concurrent), одновременно с потоками мутатора (mutator), в точном соответствии с типом (этот принцип также известен как чувствительность к типу), допускается параллельное выполнение нескольких потоков GC. Это конкурентная пометка и очистка (mark-sweep), при которой используется барьер записи (write barrier). При этом процессе ничего не генерируется и не сжимается. Освобождение памяти выполняется на основе размера, выделенного для каждой программы P, чтобы в общем случае минимизировать фрагментацию и избежать блокировок»

```go
func printStats(mem runtime.MemStats) {  
	runtime.ReadMemStats(&mem)  
	fmt.Println("mem.Alloc:", mem.Alloc)  
	fmt.Println("mem.TotalAlloc:", mem.TotalAlloc)  
	fmt.Println("mem.HeapAlloc:", mem.HeapAlloc)  
	fmt.Println("mem.NumGC:", mem.NumGC)  
	fmt.Println("-----")  
}
```

Обратите внимание: каждый раз, когда мы хотим получить свежую статистику  о сборке мусора, нам нужно заново вызывать функциюruntime.ReadMemStats(). 

В следующей команде показан прием, позволяющий получить еще более подробный отчет о том, как работает сборщик мусора Go:  

```bash
$ GODEBUG=gctrace=1 go run gColl.go  
```

Если перед любой командой go run поставить `GODEBUG=gctrace=1`, то Go выводит аналитические данные о работе сборщика мусора. Данные представлены в такой форме:  

```bash
gc 4 @0.025s 0%: 0.002+0.065+0.018 ms clock,  
0.021+0.040/0.057/0.003+0.14 ms cpu, 47->47->0 MB, 48 MB goal, 8 P  
gc 17 @30.103s 0%: 0.004+0.080+0.019 ms clock,  
0.033+0/0.076/0.071+0.15 ms cpu, 95->95->0 MB, 96 MB goal, 8 P
```

Здесь приводится подробная информация о размерах кучи в процессе сборки мусора. Возьмем для примера тройку значений 47->47->0 MB. Первое число — размер кучи перед запуском сборщика мусора; второе значение — размер кучи, когда сборщик завершает работу; последнее значение — актуальный размер кучи.

[[Внутри Go]] [[Трехцветный алгоритм]]