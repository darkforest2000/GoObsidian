_Массив_ в Go — это нумерованная последовательность элементов. Длина массива известна заранее и зафиксирована.

Массив `a` содержит 5 целых чисел. Тип и количество элементов — часть определения массива. По умолчанию элементы массива принимают нулевое значение, в данном случае — `0`:

```go
var arr [5]int
fmt.Println("empty:", arr)
// empty: [0 0 0 0 0]
```

Обращение к элементу массива — через квадратные скобки:

```go
arr[4] = 100
fmt.Println("set:", arr)
// set: [0 0 0 0 100]
fmt.Println("get:", arr[4])
// get: 100
```

Встроенная функция `len()` возвращает количество элементов:

```go
fmt.Println("len:", len(arr))
// len: 5
```

Можно инициализировать массив при объявлении:

```go
arr := [5]int{1, 2, 3, 4, 5}
fmt.Println("init:", arr)
// init: [1 2 3 4 5]
```

Массивы одноразмерные, но их можно комбинировать, чтобы получить нужную размерность:

```go
var arr [2][3]int
for i := 0; i < 2; i++ {
    for j := 0; j < 3; j++ {
        arr[i][j] = i + j
    }
}
fmt.Println("2d:", arr)
// 2d: [[0 1 2] [1 2 3]]
```

Количество элементов в массиве может быть выведено автоматически по длине списка инициализации. Для этого используется следующая конструкция:

```go
rgbColor := [...]uint8{255,255,128} // [255 255 128] len = 3
rgbaColor := [...]uint8{255,255,128,1} // [255 255 128 1] len = 4 
```

Три точки указывают компилятору, что размер массива должен быть выведен исходя из размера списка инициализации.

В списке инициализации можно указать только нужные элементы и их индексы. Индекс и значение указываются через двоеточие.

```go
thisWeekTemp := [7]int {6:11, 2:3} // [0 0 3 0 0 0 11] 
```

## Многомерные массивы

**Многомерные массивы** создаются так же, как и одномерные. Каждая размерность массива указывается в отдельных квадратных скобках.

```go
var thisMonthTemp [4][7]int // массив из четырёх недель, каждая из которых — массив из семи дней  
```

Многомерные массивы удобно представлять себе как массив массивов:

```go
var rgbImage [1080][1920][3]uint8 // изображение — это массив из 1080 строк длиной в 1920 пикселей. Каждый пиксель — массив из трёх байт
            // 1080 — размер массива
            // [1920][3]uint8 — тип элемента 
```

Доступ к элементам многомерного массива осуществляется через квадратные скобки:

```go
 line := rgbImage [2] // 3-я строка в изображении
 pixel := rgbImage[2][3] // 4-й пиксель в третьей строке изображения
 red :=  rgbImage[2][3][1] // значение синей компоненты (второй байт) 4-го пикселя 
```

### Преимущества применения массивов

1.  Элементы массива всегда располагаются в памяти последовательно, этому радуется процессор и ускоряет выполнение программы.
2.  Массивы имеют фиксированную длину, поэтому выделение памяти под массив происходит ровно один раз в момент его объявления.
3.  Время доступа к элементам массива минимальное.
4.  Go проверяет выход за пределы массива на этапе компиляции, если может вычислить значение индекса элемента на этапе компиляции, и во время исполнения программы. В первом случае будет ошибка компиляции, а во втором — паника. Панику лучше не допускать.


### Недостатки применения массивов

1.  Массивы могут быть только фиксированной длины: если количество элементов нам заранее неизвестно, память придётся выделять с запасом.
2.  Массивы передаются и присваиваются с полным копированием элементов, что грозит внезапным ухудшением производительности и увеличенным расходом памяти.
3.  Для обработки массивов разных габаритов придётся писать разные функции (если не используются дженерики).


[[Основы Go]]